 /**
 ******************************************************************************
  * @file       hal_pwm.c
  * @author     yearnext
  * @version    1.0.0
  * @date       2016年9月17日
  * @brief      CC2530 PWM 驱动源文件
  * @par        工作平台                                  
  *                  CC2530
  * @par        工作频率                                  
  *                  32MHz
  * @par        编译平台									                         
  * 				 IAR
 ******************************************************************************
  * @note
  * 1.XXXXX                  						                     
 ******************************************************************************
 */

/**
 * @defgroup CC2530 PWM模块
 * @{
 */

/* Includes ------------------------------------------------------------------*/
#include <ioCC2530.h>

/* Exported macro ------------------------------------------------------------*/
/* Exported types ------------------------------------------------------------*/
/* Exported variables --------------------------------------------------------*/
/* Private define ------------------------------------------------------------*/
/* Private typedef -----------------------------------------------------------*/
/* Private variables ---------------------------------------------------------*/
/* Private functions ---------------------------------------------------------*/
/* Exported functions --------------------------------------------------------*/
/**
 *******************************************************************************
 * @brief       OSAL任务初始化函数
 * @param       [in/out]  task_id    任务ID
 * @return      [in/out]  void
 * @note        None
 *******************************************************************************
 */
void Timer4_PWM_Init( void )
{
    // 配置通道 本次DEMO使用P2_0作为演示
    // 配置定时器3的IO位置为备用位置2
    PERCFG |= 0x10;
    // 配置P2_0为外设IO
    P2SEL |= 0x01;
    // 配置P2_0为输出模式
    P2DIR |= 0x01;
    
    // 定时器输出比较配置
    T4CCTL0 = 0xAC;
    // 定时器比较寄存器配置
    T4CC0 = 0x00;
    // 启动定时器3 128时钟分频
    T4CTL = 0xF4;
}


/** @}*/     /* CC2530 PWM模块 */

/**********************************END OF FILE*********************************/
